---
## Front matter
lang: ru-RU
title: Лабораторная работа №5
subtitle: Управление системными службами
author:
  - Эзиз Хатамов
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 24 сентября 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цель работы

## Основная цель

Получить навыки управления системными службами операционной системы посредством **systemd**.

# Ход выполнения работы

## Управление сервисами (1)

- Проверка статуса `vsftpd` → сервис не установлен  
- Установка службы через `dnf`  

![Проверка статуса vsftpd до установки](Screenshot_1.png){ #fig:001 width=65% }  

## Управление сервисами (2)

- Запуск службы → статус **active (running)**  
- Сервис не был включён в автозапуск  

![Запуск службы vsftpd](Screenshot_2.png){ #fig:002 width=65% }

## Управление сервисами (3)

- Добавление в автозапуск → статус **enabled**  

![Добавление vsftpd в автозапуск](Screenshot_3.png){ #fig:004 width=65% } 

## Управление сервисами (3)

- Удаление из автозапуска → статус **disabled**  

![Удаление vsftpd из автозапуска](Screenshot_4.png){ #fig:004 width=65% }

## Управление сервисами (4)

- Просмотр символических ссылок сервисов  
- Повторное включение vsftpd в автозапуск  
- Анализ зависимостей юнита  

![Символические ссылки сервисов](Screenshot_5.png){ #fig:005 width=65% }  

## Конфликты юнитов (1)

- Проверка статуса `firewalld` и `iptables`  
- `firewalld` → активно, `iptables` → неактивно  

![Статус firewalld и iptables](Screenshot_7.png){ #fig:008 width=65% }

## Конфликты юнитов (2)

- При запуске одного сервиса другой отключается  
- Наличие конфликта подтверждено  

![Запуск firewalld и iptables](Screenshot_8.png){ #fig:009 width=65% }

## Конфликты юнитов (3)

- Просмотр файла `firewalld.service`  
- Обнаружены настройки конфликтов  

![Файл юнита firewalld](Screenshot_9.png){ #fig:010 width=65% }

## Конфликты юнитов (4)

- Просмотр файла `iptables.service`  
- Настроек конфликтов не найдено  

![Файл юнита iptables](Screenshot_10.png){ #fig:011 width=65% }

## Конфликты юнитов (5)

- Сервис iptables замаскирован  
- Попытка запуска приводит к ошибке  

![Замаскированный сервис iptables](Screenshot_11.png){ #fig:012 width=65% }

## Изолируемые цели (1)

- Получен список изолируемых целей (`AllowIsolate=yes`)  

![Список изолируемых целей](Screenshot_12.png){ #fig:013 width=65% }

## Изолируемые цели (2)

- Переключение в `rescue.target`  
- Требуется пароль root  

![Режим восстановления](Screenshot_13.png){ #fig:014 width=65% }

## Изолируемые цели (3)

- Переключение в `reboot.target`  
- Система перезапущена  

![Перезапуск системы](Screenshot_14.png){ #fig:015 width=65% }

## Цель по умолчанию (1)

- Проверка цели по умолчанию → `graphical.target`  

![Проверка цели по умолчанию](Screenshot_14.png){ #fig:016 width=65% }

## Цель по умолчанию (2)

- Установка `multi-user.target` → загрузка в текстовом режиме  
- Возврат к `graphical.target`  

![Установка текстового режима](Screenshot_14.png){ #fig:017 width=65% }  
![Возврат к графическому режиму](Screenshot_15.png){ #fig:018 width=65% }

# Итоги работы

## Вывод

- Изучено управление сервисами через **systemd**  
- Разобраны конфликты юнитов (**firewalld ↔ iptables**)  
- Освоено использование изолируемых целей и изменение цели по умолчанию  
- Получены навыки анализа зависимостей и настройки автозапуска  
